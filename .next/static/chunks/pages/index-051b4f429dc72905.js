(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(3203)}])},6724:function(e,n,r){"use strict";function t(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}r.d(n,{r:function(){return u}});var o,u=function(e){if(Array.isArray(e))return t(e)}(o=Object.values({PURPLE:"#6B32F3",BLUE:"#408FF8",RED:"#F32D27",GREEN:"#6FCB12",GOLD:"#A89D6C",PINK:"#EB29DA",MINT:"#19CB87",RED_LIGHT:"#ED7878",CYAN:"#02CBF6",RED_DARK:"#BA1555",ORANGE:"#FF7300"}))||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,n){if(e){if("string"===typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},2782:function(e,n,r){"use strict";r.d(n,{W:function(){return t}});var t=(0,r(3264).io)()},7541:function(e,n,r){"use strict";r.d(n,{NW:function(){return t.NW},u4:function(){return t.u4},bo:function(){return t.bo},av:function(){return t.av}});r(5875);var t=r(3290)},5875:function(e,n,r){"use strict";r.d(n,{p:function(){return o},X:function(){return u}});var t=r(2804),o={id:"",users:new Map,usersMoves:new Map,movesWithoutUser:[],myMoves:[]},u=(0,t.cn)({key:"room",default:o})},3290:function(e,n,r){"use strict";r.d(n,{av:function(){return y},NW:function(){return d},bb:function(){return m},u4:function(){return v},bo:function(){return b}});var t=r(2804),o=r(6724),u=r(5875);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function i(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function l(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){i(e,n,r[n])}))}return e}function a(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,u=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(t=r.next()).done)&&(u.push(t.value),!n||u.length!==n);s=!0);}catch(l){i=!0,o=l}finally{try{s||null==r.return||r.return()}finally{if(i)throw o}}return u}}(e,n)||f(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,n){if(e){if("string"===typeof e)return s(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,n):void 0}}var d=function(){return(0,t.sJ)(u.X)},m=function(){return(0,t.Zl)(u.X)},v=function(){var e=(0,t.Zl)(u.X);return function(n){e(l({},u.p,{id:n}))}},b=function(){var e=(0,t.Zl)(u.X);return{handleAddUser:function(n,r){e((function(e){var t,u=e.users,s=e.usersMoves,i=function(e){var n=o.r.findIndex((function(n){return n===e}));return-1===n?o.r[0]:o.r[(n+1)%o.r.length]}(null===(t=c(u.values()).pop())||void 0===t?void 0:t.color);return u.set(n,{name:r,color:i}),s.set(n,[]),l({},e,{users:u,usersMoves:s})}))},handleRemoveUser:function(n){e((function(e){var r=e.users,t=e.usersMoves,o=t.get(n);return r.delete(n),t.delete(n),l({},e,{users:r,usersMoves:t,movesWithoutUser:c(e.movesWithoutUser).concat(c(o||[]))})}))},handleAddMoveToUser:function(n,r){e((function(e){var t=e.usersMoves,o=e.usersMoves.get(n);return t.set(n,c(o||[]).concat([r])),l({},e,{usersMoves:t})}))},handleRemoveMoveFromUser:function(n){e((function(e){var r=e.usersMoves,t=e.usersMoves.get(n);return null===t||void 0===t||t.pop(),r.set(n,t||[]),l({},e,{usersMoves:r})}))}}},y=function(){var e=a((0,t.FV)(u.X),2),n=e[0],r=e[1];return{handleAddMyMove:function(e){r((function(n){var r;return"select"===(null===(r=n.myMoves[n.myMoves.length-1])||void 0===r?void 0:r.options.mode)?l({},n,{myMoves:c(n.myMoves.slice(0,n.myMoves.length-1)).concat([e])}):l({},n,{myMoves:c(n.myMoves).concat([e])})}))},handleRemoveMyMove:function(){var e=c(n.myMoves),t=e.pop();return r((function(n){return l({},n,{myMoves:e})})),t},myMoves:n.myMoves}}},100:function(e,n,r){"use strict";var t=r(5893),o=r(8193),u=r(1513);n.Z=function(e){var n=e.id,r=(0,u.d)().closeModal;return(0,t.jsxs)("div",{className:"relative flex flex-col items-center rounded-md bg-white p-10 ",children:[(0,t.jsx)("button",{onClick:r,className:"absolute top-5 right-5",children:(0,t.jsx)(o.oHP,{})}),(0,t.jsxs)("h2",{className:"text-lg font-bold",children:['Room with id "',n,'" does not exist or is full!']}),(0,t.jsx)("h3",{children:"Try to join room later."})]})}},3203:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return f}});var t=r(5893),o=r(7294),u=r(1163),s=r(2782),i=r(1513),l=r(7541),a=r(100),c=function(){var e=(0,i.d)().openModal,n=(0,l.u4)(),r=(0,o.useState)(""),c=r[0],f=r[1],d=(0,o.useState)(""),m=d[0],v=d[1],b=(0,u.useRouter)();(0,o.useEffect)((function(){document.body.style.backgroundColor="white"}),[]),(0,o.useEffect)((function(){s.W.on("created",(function(e){n(e),b.push(e)}));var r=function(r,o){o?e((0,t.jsx)(a.Z,{id:c})):(n(r),b.push(r))};return s.W.on("joined",r),function(){s.W.off("created"),s.W.off("joined",r)}}),[e,c,b,n]),(0,o.useEffect)((function(){s.W.emit("leave_room"),n("")}),[n]);return(0,t.jsx)("div",{className:"flex flex-col items-center py-16 px-4 bg-gray-50 min-h-screen",children:(0,t.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-8 max-w-lg w-full",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-green-500 mb-2",children:"Fuse"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-500",children:"Connect & Collaborate Instantly"}),(0,t.jsx)("p",{className:"text-md text-gray-400",children:"A real-time whiteboard for seamless teamwork"})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block font-bold mb-2",children:"Enter your name"}),(0,t.jsx)("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",id:"username",placeholder:"Username...",value:m,onChange:function(e){return v(e.target.value.slice(0,15))}})]}),(0,t.jsx)("div",{className:"border-t border-gray-200 my-6"}),(0,t.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c&&s.W.emit("join_room",c,m)},children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{htmlFor:"room-id",className:"block font-bold mb-2",children:"Enter room ID"}),(0,t.jsx)("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",id:"room-id",placeholder:"Room ID...",value:c,onChange:function(e){return f(e.target.value)}})]}),(0,t.jsx)("button",{className:"w-full p-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",type:"submit",children:"Join Room"})]}),(0,t.jsxs)("div",{className:"flex items-center my-6",children:[(0,t.jsx)("div",{className:"h-px flex-grow bg-gray-300"}),(0,t.jsx)("span",{className:"px-3 text-gray-500",children:"or"}),(0,t.jsx)("div",{className:"h-px flex-grow bg-gray-300"})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{className:"w-full p-3 bg-green-500 text-white font-bold rounded-lg hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500",onClick:function(){s.W.emit("create_room",m)},children:"Create New Room"})})]})})},f=function(){return(0,t.jsx)(c,{})}}},function(e){e.O(0,[617,871,774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);